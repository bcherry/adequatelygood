(function(c){var b={};var a=function a(f,e){var d=!/\W/.test(f)?b[f]=b[f]||a(c("#"+f).html()):new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+f.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');");return e?d(e):d};c.fn.tmpl=function(f,d){this.html(a(f,d));var e={};this.find("[id]").each(function(){e[c(this).attr("id")]=c(this)});return e}})(jQuery);